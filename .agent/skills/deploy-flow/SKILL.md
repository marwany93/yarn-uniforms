# Skill: Secure Deployment Workflow

## Description
هذه المهارة تقوم بمراجعة الكود أمنياً، تشغيل الاختبارات، وحفظ نسخة احتياطية على GitHub بعد التأكد من سلامة الكود.

## Triggers
- "افحص الكود وارفع على جيت هاب"
- "تأكد من الأمان واعمل بايك اب"
- "deploy my changes"

## Instructions
عند تفعيل هذه المهارة، اتبع الخطوات التالية بدقة:

### المرحلة 1: المراجعة الأمنية والأداء (Security & Performance)
1. قم بفحص الملفات التي تم تعديلها بحثاً عن:
   - أي مفاتيح سرية (Hardcoded API Keys) أو كلمات مرور.
   - ثغرات SQL Injection في التعامل مع قاعدة البيانات.
   - أي Loop غير ضروري قد يؤثر على سرعة الأداء.
2. إذا وجدت أي مشكلة أمنية "حرجة"، توقف فوراً وأبلغني.

### المرحلة 2: الاختبارات (Testing)
1. قم بتشغيل أوامر الاختبار الموجودة في المشروع (مثلاً: `npm test`).
2. تأكد أن جميع الـ Test Cases الخاصة بحجز الـ Uniforms تعمل بنجاح.
3. لا تنتقل للمرحلة التالية إلا إذا كانت نتيجة الاختبارات 100% نجاح.

### المرحلة 3: النسخ الاحتياطي (Git Backup)
1. قم بإضافة التعديلات: `git add .`
2. قم بعمل Commit بوصف تفصيلي للتعديلات التي تمت: `git commit -m "Automated update: Security audit & tests passed"`
3. قم بعمل Tag للنسخة الحالية للرجوع إليها كـ Backup: `git tag -a v1.0.$(date +%Y%m%d%H%M) -m "Stable backup"`
4. ارفع الكود إلى المستودع: `git push origin main --tags`

## Error Handling
- إذا فشل أي اختبار (Test Fail)، توقف ولا ترفع الكود على GitHub.
- إذا لم تكن صلاحيات الـ Git معدلة، اطلب مني التدخل.